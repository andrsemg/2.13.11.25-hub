- id: send_photo_notification
  alias: "–û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å —Ñ–æ—Ç–æ"
  trigger:
    - platform: homeassistant
      event: start
  action:
    - service: camera.snapshot
      target:
        entity_id: camera.your_camera_entity
      data:
        filename: /config/camera_photos/snapshot.jpg
    - delay: 00:00:03  # –ñ–¥–µ–º 3 —Å–µ–∫—É–Ω–¥—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∞–π–ª–∞
    - service: notify.telegram  # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
      data:
        message: "Home Assistant –∑–∞–ø—É—â–µ–Ω!"
        data:
          photo: /config/camera_photos/snapshot.jpg



action: camera.snapshot
data:
  filename: /config/www/snapshots/test.jpg
target:
  device_id: 9a2e86ad6a2150cbbdf7ecbc09267ffa
  entity_id: camera.192_168_0_112




automation:
  # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã /start
  - alias: "Telegram Bot - Start Command"
    trigger:
      platform: event
      event_type: telegram_command
      event_data:
        command: "/start"
    action:
      - service: telegram_bot.send_message
        data:
          target: "{{ trigger.event.data.chat_id }}"
          message: |
            üè† *–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Home Assistant!*
            
            –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
            ‚Ä¢ /system_status - –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
            ‚Ä¢ /light_control - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–µ—Ç–æ–º
            ‚Ä¢ /climate_control - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–º–∞—Ç–æ–º
            ‚Ä¢ /security_check - –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
            ‚Ä¢ /camera_view - –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞–º–µ—Ä
            ‚Ä¢ /notifications - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
            ‚Ä¢ /help - –ü–æ–º–æ—â—å
            
            –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
          data:
            parse_mode: markdown
            reply_markup:
              inline_keyboard:
                - ["üå°Ô∏è –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã", "/system_status"]
                - ["üí° –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–µ—Ç–æ–º", "/light_control"]
                - ["‚ùÑÔ∏è –ö–ª–∏–º–∞—Ç", "/climate_control"]

  # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã /system_status
  - alias: "Telegram Bot - System Status"
    trigger:
      platform: event
      event_type: telegram_command
      event_data:
        command: "/system_status"
    action:
      - service: telegram_bot.send_message
        data:
          target: "{{ trigger.event.data.chat_id }}"
          message: |
            üìä *–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã*
            ‚Ä¢ CPU: {{ states('sensor.cpu_temperature') }}¬∞C
            ‚Ä¢ –ü–∞–º—è—Ç—å: {{ states('sensor.memory_use_percent') }}%
            ‚Ä¢ Uptime: {{ states('sensor.uptime') }}
            ‚Ä¢ –í–µ—Ä—Å–∏—è HA: {{ states('sensor.ha_version') }}
          data:
            parse_mode: markdown

  # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã /light_control
  - alias: "Telegram Bot - Light Control"
    trigger:
      platform: event
      event_type: telegram_command
      event_data:
        command: "/light_control"
    action:
      - service: telegram_bot.send_message
        data:
          target: "{{ trigger.event.data.chat_id }}"
          message: "üí° *–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–µ—Ç–æ–º*"
          data:
            parse_mode: markdown
            reply_markup:
              inline_keyboard:
                - ["üü¢ –í–∫–ª—é—á–∏—Ç—å –≤—Å–µ", "/lights_on"]
                - ["üî¥ –í—ã–∫–ª—é—á–∏—Ç—å –≤—Å–µ", "/lights_off"]
                - ["üìä –°—Ç–∞—Ç—É—Å —Å–≤–µ—Ç–∞", "/lights_status"]

  # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã /help
  - alias: "Telegram Bot - Help"
    trigger:
      platform: event
      event_type: telegram_command
      event_data:
        command: "/help"
    action:
      - service: telegram_bot.send_message
        data:
          target: "{{ trigger.event.data.chat_id }}"
          message: |
            ‚ÑπÔ∏è *–ü–æ–º–æ—â—å –ø–æ –∫–æ–º–∞–Ω–¥–∞–º*
            
            /start - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
            /system_status - –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
            /light_control - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–µ—Ç–æ–º
            /climate_control - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–º–∞—Ç–æ–º
            /security_check - –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
            /camera_view - –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞–º–µ—Ä
            /notifications - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
            /help - –≠—Ç–∞ —Å–ø—Ä–∞–≤–∫–∞
          data:
            parse_mode: markdown
